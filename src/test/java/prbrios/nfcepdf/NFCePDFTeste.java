package prbrios.nfcepdf;

import org.junit.Test;

public class NFCePDFTeste {

	@Test
	public void gerarPDF() {
		
		String xml ="<nfeProc versao=\"3.10\" xmlns=\"http://www.portalfiscal.inf.br/nfe\">"
				+ "<NFe xmlns=\"http://www.portalfiscal.inf.br/nfe\">"
				+ "<infNFe Id=\"NFe24180309305229000109650010000012301000024817\" versao=\"3.10\">"
				+ "<ide><cUF>24</cUF><cNF>00002481</cNF><natOp>Venda de mercadoria adquirida ou recebid</natOp>"
				+ "<indPag>0</indPag><mod>65</mod><serie>1</serie><nNF>1230</nNF>"
				+ "<dhEmi>2018-03-27T11:30:32-03:00</dhEmi><tpNF>1</tpNF><idDest>1</idDest><cMunFG>2408003</cMunFG>"
				+ "<tpImp>4</tpImp><tpEmis>1</tpEmis><cDV>7</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe>"
				+ "<indFinal>1</indFinal><indPres>1</indPres><procEmi>0</procEmi><verProc>000</verProc></ide>"
				+ "<emit><CNPJ>09305229000109</CNPJ><xNome>CENTRAL DISTRIBUIDORA LTDA</xNome>"
				+ "<xFant>CENTRAL DISTRIBUIDORA DE ALIMENTOS</xFant><enderEmit>"
				+ "<xLgr>RUA LUIZ AGOSTINHO SOBRINHO</xLgr><nro>500</nro><xBairro>BARROCAS</xBairro>"
				+ "<cMun>2408003</cMun><xMun>MOSSORO</xMun><UF>RN</UF><CEP>59621466</CEP><cPais>1058</cPais>"
				+ "<xPais>BRASIL</xPais><fone>33162325</fone></enderEmit><IE>202105768</IE><CRT>3</CRT></emit>"
				+ "<dest><CPF>48269832472</CPF><xNome>JOAO ANTONIO DE LIMA</xNome><enderDest>"
				+ "<xLgr>RUA LUZIA MOURA DA SILVA</xLgr><nro>2619</nro><xBairro>ALTO SUMARE</xBairro>"
				+ "<cMun>2408003</cMun><xMun>MOSSORO</xMun><UF>RN</UF><CEP>59600000</CEP><cPais>1058</cPais>"
				+ "<xPais>BRASIL</xPais></enderDest><indIEDest>9</indIEDest></dest><det nItem=\"1\"><prod>"
				+ "<cProd>P025421</cProd><cEAN>7891150037434</cEAN>"
				+ "<xProd>SHAMPOO SEDA CRESCIMENTO SAUDAVEL 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150037434</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig>"
				+ "<CST>00</CST><modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00>"
				+ "</ICMS></imposto></det><det nItem=\"2\"><prod><cProd>P025424</cProd><cEAN>7891150037397</cEAN>"
				+ "<xProd>SHAMPOO SEDA CERAMIDAS 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150037397</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig>"
				+ "<CST>00</CST><modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00>"
				+ "</ICMS></imposto></det><det nItem=\"3\"><prod><cProd>P018226</cProd><cEAN>7896490288867</cEAN>"
				+ "<xProd>MILHO DE PIPOCA DONA CLARA 20X500G</xProd><NCM>10059010</NCM><CFOP>5102</CFOP>"
				+ "<uCom>UND</uCom><qCom>20.0000</qCom><vUnCom>2.2400</vUnCom><vProd>44.80</vProd>"
				+ "<cEANTrib>7896490288867</cEANTrib><uTrib>UND</uTrib><qTrib>20.0000</qTrib><vUnTrib>2.2400</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>1.88</vTotTrib><ICMS><ICMS00><orig>0</orig>"
				+ "<CST>00</CST><modBC>3</modBC><vBC>44.80</vBC><pICMS>18.00</pICMS><vICMS>8.06</vICMS></ICMS00>"
				+ "</ICMS></imposto></det><det nItem=\"4\"><prod><cProd>P025726</cProd><cEAN>7891150042773</cEAN>"
				+ "<xProd>SHAMPOO SEDA BRILHO E MOVIMENTO 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150042773</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig>"
				+ "<CST>00</CST><modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00>"
				+ "</ICMS></imposto></det><det nItem=\"5\"><prod><cProd>P025334</cProd><cEAN>7891150037526</cEAN>"
				+ "<xProd>SHAMPOO SEDA PRETOS LUMINOSOS 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150037526</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig>"
				+ "<CST>00</CST><modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00></ICMS>"
				+ "</imposto></det><det nItem=\"6\"><prod><cProd>P026035</cProd><cEAN>7891150049628</cEAN>"
				+ "<xProd>SHAMPOO SEDA BOMBA NUTRICAO 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150049628</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig>"
				+ "<CST>00</CST><modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00></ICMS>"
				+ "</imposto></det><det nItem=\"7\"><prod><cProd>P025423</cProd><cEAN>7891150037595</cEAN>"
				+ "<xProd>SHAMPOO SEDA CACHOS DEFINIDOS 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150037595</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig><CST>00</CST>"
				+ "<modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00></ICMS></imposto>"
				+ "</det><det nItem=\"8\"><prod><cProd>P025369</cProd><cEAN>7891150037502</cEAN>"
				+ "<xProd>SHAMPOO SEDA LISO EXTREMO 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150037502</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig><CST>00</CST>"
				+ "<modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00></ICMS></imposto>"
				+ "</det><det nItem=\"9\"><prod><cProd>P025437</cProd><cEAN>7891150037519</cEAN>"
				+ "<xProd>SHAMPOO SEDA LISO PERFEITO 12X325ML</xProd><NCM>33051000</NCM><CEST>2001700</CEST>"
				+ "<CFOP>5102</CFOP><uCom>UND</uCom><qCom>3.0000</qCom><vUnCom>5.0000</vUnCom><vProd>15.00</vProd>"
				+ "<cEANTrib>7891150037519</cEANTrib><uTrib>UND</uTrib><qTrib>3.0000</qTrib><vUnTrib>5.0000</vUnTrib>"
				+ "<indTot>1</indTot></prod><imposto><vTotTrib>2.48</vTotTrib><ICMS><ICMS00><orig>0</orig><CST>00</CST>"
				+ "<modBC>3</modBC><vBC>15.00</vBC><pICMS>18.00</pICMS><vICMS>2.70</vICMS></ICMS00></ICMS></imposto>"
				+ "</det><total><ICMSTot><vBC>164.80</vBC><vICMS>29.66</vICMS><vICMSDeson>0.00</vICMSDeson>"
				+ "<vBCST>0.00</vBCST><vST>0.00</vST><vProd>164.80</vProd><vFrete>0.00</vFrete><vSeg>0.00</vSeg>"
				+ "<vDesc>0.00</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS>"
				+ "<vOutro>0.00</vOutro><vNF>164.80</vNF><vTotTrib>21.72</vTotTrib></ICMSTot></total><transp>"
				+ "<modFrete>9</modFrete></transp><pag><tPag>01</tPag><vPag>164.80</vPag></pag><infAdic>"
				+ "<infCpl>VENDEDOR : 000340 IZAMARA GOMES .|PEDIDO : FC1/019994 .||</infCpl></infAdic></infNFe>"
				+ "<infNFeSupl><qrCode><![CDATA[http://nfce.set.rn.gov.br/consultarNFCe.aspx?"
				+ "chNFe=24180309305229000109650010000012301000024817&nVersao=100&tpAmb=1&cDest=48269832472&"
				+ "dhEmi=323031382d30332d32375431313a33303a33322d30333a3030&vNF=164.80&vICMS=29.66&"
				+ "digVal=4e796d5578446245337577426f57456834424242333253686a76453d&cIdToken=000001&"
				+ "cHashQRCode=CFBB607E0AAED8B7FA83647F2E3F233A761008F1]]></qrCode></infNFeSupl>"
				+ "<Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo>"
				+ "<CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/>"
				+ "<SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/>"
				+ "<Reference URI=\"#NFe24180309305229000109650010000012301000024817\"><Transforms>"
				+ "<Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/>"
				+ "<Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/></Transforms>"
				+ "<DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/>"
				+ "<DigestValue>NymUxDbE3uwBoWEh4BBB32ShjvE=</DigestValue></Reference></SignedInfo>"
				+ "<SignatureValue>B49zIuYI0KXkwqo9KLnrLVQqAdUzst7uDdSf/ZF/86fjo/IJeJ9O1od71zH24lW+sJxCesmSBX2AYTLIL"
				+ "CMmINiRYb0Rsw2kNOPgdTrMmz2+/GbBwkEXiWbxmiV36JV70zpHJtXqYN2wv14/zMCHoCtZB2TXqA5lxbwD4kpnZM3Rlsjor"
				+ "WDnzADF8ecoQN3dYJvLFmRlpNboRT0XAkKNzCvJCFBI9lb/Qblv6RCnr8DAfwrQzvTTM0C0ixaL5BjSUt4aij5R/trxR78YB0"
				+ "qsAaKa6uz4afLTymBwz2J6UOFqdrnssdidyKNvZeLc2hK93tZXF+f/TMlQ0BYLLImkJg==</SignatureValue><KeyInfo>"
				+ "<X509Data><X509Certificate>MIIIGTCCBgGgAwIBAgIIVZBF8kLvMWswDQYJKoZIhvcNAQELBQAwdDELMAkGA1UEBhMCQ"
				+ "lIxEzARBgNVBAoTCklDUC1CcmFzaWwxNjA0BgNVBAsTLVNlY3JldGFyaWEgZGEgUmVjZWl0YSBGZWRlcmFsIGRvIEJyYXNpbC"
				+ "AtIFJGQjEYMBYGA1UEAxMPQUMgRE9DQ0xPVUQgUkZCMB4XDTE3MDcxODEyNTMyOFoXDTE4MDcxODEyNTMyOFowgesxCzAJBgN"
				+ "VBAYTAkJSMQswCQYDVQQIEwJSTjEQMA4GA1UEBxMHTU9TU09STzETMBEGA1UEChMKSUNQLUJyYXNpbDE2MDQGA1UECxMtU2Vj"
				+ "cmV0YXJpYSBkYSBSZWNlaXRhIEZlZGVyYWwgZG8gQnJhc2lsIC0gUkZCMRYwFAYDVQQLEw1SRkIgZS1DTlBKIEExMRQwEgYDV"
				+ "QQLEwtBUiBET0NDTE9VRDFCMEAGA1UEAxM5Q0VOVFJBTCBESVNUUklCVUlET1JBIERFIEFMSU1FTlRPUyBMVERBIE1FOjA5Mz"
				+ "A1MjI5MDAwMTA5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0XlZXAjGeMzMY7eM9DPd25BmWUVpNmXeMCDYV8m"
				+ "6jsdlkr5ZwO9pdLR1Duk3SRPqOPQkEpeCH2g4g3PGxXppysfjjfJ2Cgxn3YduSeEj7xMuyzBh1OkM71MU9FAJ5GjbKlD38QRH"
				+ "cjZ0F1sRTTTMtXAN9peLgIQQ2fPl3KK1RXGAexb/EnXDcYVHWs6zH75wozCIyb+Jbddp12u5R0/kcadBS50RKmrU6XmbMGGaw"
				+ "WWVnGaxo6noh9CwtTfBb0IbnCdAMZ+cxcNsq0DYZpk9we/ztlE7JrsVjEWDvyCt3R1qq3aVblSPeamoA8XB6qzHfp0AwjS8Qe"
				+ "ED1z5HoR8DRQIDAQABo4IDNTCCAzEwHwYDVR0jBBgwFoAUNUgoCkaqZRNMlY8dUmGVvecT44wwDgYDVR0PAQH/BAQDAgXgMHA"
				+ "GA1UdIARpMGcwZQYGYEwBAgE6MFswWQYIKwYBBQUHAgEWTWh0dHA6Ly9yZXBvc2l0b3Jpby5hY2RvY2Nsb3VkLmNvbS5ici9h"
				+ "Yy1kb2NjbG91ZHJmYi9hYy1kb2NjbG91ZC1yZmItcGMtYTEucGRmMIIBBQYDVR0fBIH9MIH6MFKgUKBOhkxodHRwOi8vcmVwb"
				+ "3NpdG9yaW8uYWNkb2NjbG91ZC5jb20uYnIvYWMtZG9jY2xvdWRyZmIvbGNyLWFjLWRvY2Nsb3VkcmZidjIuY3JsMFOgUaBPhk"
				+ "1odHRwOi8vcmVwb3NpdG9yaW8yLmFjZG9jY2xvdWQuY29tLmJyL2FjLWRvY2Nsb3VkcmZiL2xjci1hYy1kb2NjbG91ZHJmYnY"
				+ "yLmNybDBPoE2gS4ZJaHR0cDovL3JlcG9zaXRvcmlvLmljcGJyYXNpbC5nb3YuYnIvbGNyL2RvY2Nsb3VkL2xjci1hYy1kb2Nj"
				+ "bG91ZHJmYnYyLmNybDCBkQYIKwYBBQUHAQEEgYQwgYEwVAYIKwYBBQUHMAKGSGh0dHA6Ly9yZXBvc2l0b3Jpby5hY2RvY2Nsb"
				+ "3VkLmNvbS5ici9hYy1kb2NjbG91ZHJmYi9hYy1kb2NjbG91ZHJmYnYyLnA3YjApBggrBgEFBQcwAYYdaHR0cDovL29jc3AuYW"
				+ "Nkb2NjbG91ZC5jb20uYnIwgcQGA1UdEQSBvDCBuYEeTUxVSVpBQENFTlRSQUxWQVJFSklTVEEuQ09NLkJSoCkGBWBMAQMCoCA"
				+ "THlBBQkxPIE1BUkNFTCBERSBTT1VTQSBPTElWRUlSQaAZBgVgTAEDA6AQEw4wOTMwNTIyOTAwMDEwOaA4BgVgTAEDBKAvEy0w"
				+ "ODAyMTk4NTg1MTcxMDY5NDY4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDCgFwYFYEwBAwegDhMMMDAwMDAwMDAwMDAwMB0GA"
				+ "1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4ICAQAo6SvZlQu9GtMouM628y"
				+ "3fACZfyzw7KpuNvBLCw2rVoQZOZTTxf6cgLFroDl4I04aICwEhTpKCWQzLVT9wIGRNWxSTsjpzEpy2AP6o0P8iNaEF3rpybhZ"
				+ "Tw04Lu0vw2r/py2rGummajtCeva3ilVElUzEIXdWMkg+PqOcvPPn1h92zsUi4QWjGVK+OczE3pNWVoPb7rr+nK2i4o49aK5Hq"
				+ "jreWyloA9D6jzeeE1RrJnW2HfZV7lbw6RThYb2wjzEHpQ7dgal4n8TYGD5WHINRgxe3SRpV5QrjdqlEmBNuk2lvh6kUV1wCxp"
				+ "Z9ASLLuBUbe/DyliIBpB12LOirboM8KrJRoK3QWYFGHrgVj3NtYata5YaE9xi/wQM8yl6E0BXBhgMZkqfWTlqVkzPGPAv8uOt"
				+ "7mDjO1aAffuDNMGAwLyBD6y1P1UXAXebQCz4LLW6gRDlyEf9KeGUXwKpCXr/o6ATDnHH8SJSuPpEAOYnc8+N8ioCxkbwni6Ry"
				+ "bbmD6hgcSTo3qHaeTuUJA6riIXSEl8AzB8RrnE0Hz5uBVm7ZPb+5UDNxbWCckgp9TUPO+Vf2R+/J12nRh0Ja7ZTk9GdYje5U1"
				+ "uOK44eqwUn7xE8C1sfJ11eNaEjy1szd7atOG6ZgZOkASjkAFuzZ68xAO/zNUQScotcFvHHqr644eN5yR9A==</X509Certifi"
				+ "cate></X509Data></KeyInfo></Signature></NFe><protNFe xmlns=\"http://www.portalfiscal.inf.br/nfe\""
				+ " versao=\"3.10\"><infProt><tpAmb>1</tpAmb><verAplic>SVRSnfce201802051656</verAplic><chNFe>2418030"
				+ "9305229000109650010000012301000024817</chNFe><dhRecbto>2018-03-27T11:35:14-03:00</dhRecbto><nProt"
				+ ">324180071219449</nProt><digVal>NymUxDbE3uwBoWEh4BBB32ShjvE=</digVal><cStat>100</cStat><xMotivo>A"
				+ "utorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>";

		try {
			NFCePDF nfcePdf = new NFCePDF(xml, null);
			nfcePdf.gerarPdfAutorizacao();
			System.out.println(nfcePdf.getSaida());
			
			NFCePDFImpressao imp = new NFCePDFImpressao();
			imp.imprimir(nfcePdf.getSaida());
			
		}catch(NFCePDFException e) {
			System.out.println(e.getMessage());
		}
	}
	
}
